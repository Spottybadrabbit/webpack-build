{"version":3,"sources":["../src/collections.js"],"names":[],"mappings":";;;;;;;;;;;;uBAAoB,WAAW;;;;qBACb,SAAS;;;;IAErB,QAAQ;AACD,WADP,QAAQ,GACE;0BADV,QAAQ;;AAEV,QAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;GACpC;;eAHG,QAAQ;;WAIT,aAAC,OAAO,EAAE;AACX,UAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC;KACjD;;;WACE,aAAC,IAAI,EAAE,KAAK,EAAE;AACf,UAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAE5C,UAAI,CAAC,OAAO,EAAE;AACZ,eAAO,GAAG,yBAAY,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AACzC,YAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;OACnB;;AAED,aAAO,OAAO,CAAC;KAChB;;;WACI,iBAAG;AACN,UAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KACrC;;;SAnBG,QAAQ;;;IAsBR,MAAM;AACC,WADP,MAAM,GACI;0BADV,MAAM;;AAER,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GACnC;;eAHG,MAAM;;WAIP,aAAC,IAAI,EAAE;AACR,UAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;AAChC,YAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,uBAAU,IAAI,CAAC,CAAC;OAC/C;;AAED,aAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACpC;;;WACI,iBAAG;AACN,UAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KACnC;;;SAbG,MAAM;;;QAgBJ,QAAQ,GAAR,QAAQ;QAAE,MAAM,GAAN,MAAM","file":"collections.js","sourcesContent":["import Wrapper from './Wrapper';\nimport Cache from './Cache';\n\nclass Wrappers {\n  constructor() {\n    this.wrappers = Object.create(null)\n  }\n  add(wrapper) {\n    this.wrappers[wrapper.opts.buildHash] = wrapper;\n  }\n  get(opts, cache) {\n    let wrapper = this.wrappers[opts.buildHash];\n\n    if (!wrapper) {\n      wrapper = new Wrapper(opts, null, cache);\n      this.add(wrapper);\n    }\n\n    return wrapper;\n  }\n  clear() {\n    this.wrappers = Object.create(null);\n  }\n}\n\nclass Caches {\n  constructor() {\n    this.caches = Object.create(null);\n  }\n  get(opts) {\n    if (!this.caches[opts.cacheFile]) {\n      this.caches[opts.cacheFile] = new Cache(opts);\n    }\n\n    return this.caches[opts.cacheFile];\n  }\n  clear() {\n    this.caches = Object.create(null);\n  }\n}\n\nexport {Wrappers, Caches}\n"]}