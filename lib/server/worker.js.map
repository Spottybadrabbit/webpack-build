{"version":3,"sources":["../../src/server/worker.js"],"names":[],"mappings":";;;;gCAA6B,oBAAoB;;;;uBAGzB,eAAe;;;;qBACrB,OAAO;;;;mBAGT,QAAQ;;;;gBACN,IAAI;;;;qBACI,SAAS;;AARnC,8BAAiB,OAAO,EAAE,CAAC;;AAI3B,mBAAM,MAAM,CAAC,qBAAY,IAAI,GAAG,IAAI,CAAC,CAAC;;AAMtC,iBAAI,SAAS,iBAAe,OAAO,CAAC,GAAG,AAAE,CAAC;;AAE1C,IAAI,MAAM,GAAG,uBAAK,CAAC;;AAEnB,MAAM,CAAC,OAAO,CAAC,CAAC;;AAEhB,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;AAEtB,OAAO,CAAC,EAAE,CAAC,SAAS,EAAE,UAAS,IAAI,EAAE;AACnC,QAAM,iCAA+B,IAAI,CAAC,SAAS,CAAG,CAAC;;AAEvD,qBAAM,IAAI,EAAE,UAAC,GAAG,EAAE,IAAI,EAAK;AACzB,WAAO,CAAC,IAAI,CAAC;AACX,UAAI,EAAJ,IAAI;AACJ,UAAI,EAAE,WAhBJ,WAAW,EAgBK,GAAG,EAAE,IAAI,CAAC;KAC7B,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ,CAAC,CAAC","file":"worker.js","sourcesContent":["import sourceMapSupport from 'source-map-support';\nsourceMapSupport.install();\n\nimport packageJson from '../../package';\nimport debug from 'debug';\ndebug.enable(packageJson.name + ':*');\n\nimport log from '../log';\nimport build from '..';\nimport {processData} from './utils';\n\nlog.namespace += `:worker:${process.pid}`;\n\nlet logger = log();\n\nlogger('ready');\n\nprocess.send('ready');\n\nprocess.on('message', function(opts) {\n  logger(`received request for build ${opts.buildHash}`);\n\n  build(opts, (err, data) => {\n    process.send({\n      opts,\n      data: processData(err, data)\n    });\n  });\n});\n"]}