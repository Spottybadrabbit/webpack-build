{"version":3,"sources":["../../src/server/endpoints.js"],"names":[],"mappings":";;;;;qBAAe;AACb,OAAK,EAAE,eAAC,GAAG,EAAE,GAAG,EAAK;AACnB,QAAI,KAAK,8BAA4B,WAAW,CAAC,OAAO,AAAE,CAAC;;AAE3D,QAAI,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,UAAC,OAAO,EAAE,GAAG,EAAK;AAC3D,sBAAc,GAAG,iBAAY,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,WAAQ;KAC3E,CAAC,CAAC;AACH,QAAI,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,GAAG,EAAK;AACnD,4CAEM,GAAG,iBAAY,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,6BAEjD;KACH,CAAC,CAAC;AACH,OAAG,CAAC,GAAG,mDAGM,KAAK,2DAGR,KAAK,8DAEJ,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,uDAElC,WAAW,oDAEX,SAAS,+CAGjB,CAAC;GACJ;AACD,OAAK;;;;;;;;;;KAAE,UAAC,GAAG,EAAE,GAAG,EAAK;AACnB,QAAI,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAC7B,QAAI,MAAM,GAAG,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;AACvC,UAAM,2BAAyB,IAAI,CAAC,SAAS,CAAG,CAAC;;AAEjD,SAAK,CAAC,IAAI,EAAE,UAAC,GAAG,EAAE,IAAI,EAAK;AACzB,SAAG,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;KAClC,CAAC,CAAC;GACJ,CAAA;CACF","file":"endpoints.js","sourcesContent":["export default {\n  index: (req, res) => {\n    let title = `webpack-build-server v${packageJson.version}`;\n\n    let wrapperList = _.map(wrappers.wrappers, (wrapper, key) => {\n      return `<li>${key} &mdash; ${JSON.stringify(wrapper.opts, null, 2)}</li>`;\n    });\n    let cacheList = _.map(caches.caches, (cache, key) => {\n      return `\n        <li>\n          ${key} &mdash; ${JSON.stringify(cache, null, 2)}\n        </li>\n      `;\n    });\n    res.end(`\n      <html>\n      <head>\n        <title>${title}</title>\n      </head>\n      <body>\n        <h1>${title}</h1>\n        <h2>Default options</h2>\n        <pre>${JSON.stringify(defaults, null, 2)}</pre>\n        <h2>Wrappers</h2>\n        <ul>${wrapperList}</ul>\n        <h2>Caches</h2>\n        <ul>${cacheList}</ul>\n      </body>\n      </html>\n    `);\n  },\n  build: (req, res) => {\n    let opts = options(req.body);\n    let logger = log('build-server', opts);\n    logger(`request received for ${opts.buildHash}`);\n\n    build(opts, (err, data) => {\n      res.json(processData(err, data));\n    });\n  }\n};\n"]}