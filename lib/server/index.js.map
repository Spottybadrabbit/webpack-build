{"version":3,"sources":["../../src/server/index.js"],"names":[],"mappings":";;;;;;;;;;;;oBAAiB,MAAM;;;;uBACH,SAAS;;;;uBACT,SAAS;;;;mBACb,QAAQ;;;;gBACN,IAAI;;;;IAEhB,MAAM;AACC,WADP,MAAM,CACE,IAAI,EAAE;;;0BADd,MAAM;;AAER,QAAI,GAAG,IAAI,IAAI,EAAE,CAAC;;AAElB,QAAI,CAAC,GAAG,GAAG,2BAAS,CAAC;AACrB,QAAI,CAAC,MAAM,GAAG,kBAAK,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAEpC,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,OAAO,CAAC,GAAG,EAAE,CAAC;;AAEvC,qBAAI,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAEvB,QAAI,CAAC,MAAM,GAAG,IAAI,qBAAQ,MAAM,CAAC;AAC/B,gBAAU,EAAE,CACV,IAAI,qBAAQ,UAAU,CAAC,OAAO,CAAC;AAC7B,gBAAQ,EAAE,IAAI;AACd,iBAAS,EAAE,qBAAY;AACrB,cAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;;AAEtB,cAAI,EAAE,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;AAChC,cAAI,EAAE,GAAG,EAAE,EAAE;AACX,cAAE,UAAQ,EAAE,AAAE,CAAC;WAChB,MAAM,IAAI,EAAE,GAAG,GAAG,EAAE;AACnB,cAAE,SAAO,EAAE,AAAE,CAAC;WACf;;AAED,sBAAU,IAAI,CAAC,QAAQ,EAAE,SAAI,IAAI,CAAC,UAAU,EAAE,SAAI,EAAE,CAAG;SACxD;AACD,mBAAW,EAAE,IAAI;AACjB,iBAAS,EAAE,IAAI;OAChB,CAAC,CACH;AACD,iBAAW,EAAE,KAAK;KACnB,CAAC,CAAC;;AAEH,QAAI,CAAC,GAAG,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAK;AAC/B,YAAK,MAAM,CAAC,IAAI,MAAI,GAAG,CAAC,MAAM,SAAI,GAAG,CAAC,GAAG,CAAG,CAAC;;AAE7C,UAAI,EAAE,CAAC;KACR,CAAC,CAAC;;AAEH,QAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAK,EAE1C,CAAC,CAAC;GACJ;;eA3CG,MAAM;;WA4CJ,kBAAG;AACP,UAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;KAClD;;;SA9CG,MAAM;;;qBAiDG,MAAM","file":"index.js","sourcesContent":["import http from 'http';\nimport express from 'express';\nimport winston from 'winston';\nimport hmr from '../hmr';\nimport build from '..';\n\nclass Server {\n  constructor(opts) {\n    opts = opts || {};\n\n    this.app = express();\n    this.server = http.Server(this.app);\n\n    this.root = opts.root || process.cwd();\n\n    hmr.addTo(this.server);\n\n    this.logger = new winston.Logger({\n      transports: [\n        new winston.transports.Console({\n          colorize: true,\n          timestamp: function () {\n            let time = new Date();\n\n            let ms = time.getMilliseconds();\n            if (ms < 10) {\n              ms = `00${ms}`;\n            } else if (ms < 100) {\n              ms = `0${ms}`;\n            }\n\n            return `${time.getHours()}:${time.getMinutes()}:${ms}`;\n          },\n          prettyPrint: true,\n          showLevel: true\n        })\n      ],\n      exitOnError: false\n    });\n\n    this.app.use((req, res, next) => {\n      this.logger.info(`${req.method} ${req.url}`);\n\n      next();\n    });\n\n    this.app.get('/build', (req, res, next) => {\n\n    });\n  }\n  listen() {\n    this.server.listen.apply(this.server, arguments);\n  }\n}\n\nexport default Server;"]}